
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>wall-e</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/reset.css">
  <link rel="icon" href="images/favicon.png" type="image/x-icon">

</head>

<body>
  <section class="poster" width="1000" height="1000">
    <header>
      <div class="soundtrac">
        <img src="images/soundtrack.png" alt="an original walt disney records soundtrac" wight="659" height="30">
      </div>
      <div class="disney-pixar">
        <img src="images/disney-pixar.png" alt="disney-pixar" width="279" height="55">
      </div>
      <div class="logo">
        <img src="images/logo.png" alt="wall-e" width="788" height="156">
      </div>
    </header>
    <main>
      <div class="eve">
        <img src="images/eve.png" alt="eve" width="241" height="196">
      </div>
      <div class="m-o">
        <img src="images/m-o.png" alt="m-o" width="131" height="174">
      </div>
      <div class="wall-e">
        <img src="images/wall-e.png" alt="wall-e" width="509" height="573">
      </div>
    </main>
    <footer>
      <div class="music-composed">
        <img src="images/music-composed.png" alt="music composed by thomas newman" width="686" height="26">
      </div>
    </footer>
  </section>


  <!-- GreenSock TweenMax -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.2/TweenMax.min.js"></script>

  <!-- ScrollMagic GreenSock Plugin -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/animation.gsap.js"></script>
  <script>
  var projects = document.querySelectorAll('.project'),
      project = null,
      i = 0,
      l = projects.length

  for ( ; i<l; i++ ) {

    project = projects[i];

    var scene = new ScrollMagic.Scene({
      'triggerElement': project.querySelector('img'),
      'triggerHook': 0.6,
      'reverse': false
    });

    scene
      .addTo(controller)
      .addIndicators({
        'name': '페이드',
        'indent': 10,
        'colorTigger': '#fe4940',
        'colorStart': '#34c0ff',
        'colorEnd': '#7eff28'
      })
      .setClassToggle(project, 'fade-in');

  }
  forEach문을 사용하여 반복 구문 처리

  var projects = Array.from( document.querySelectorAll('.project') ); // Array 화

  projects.forEach(function(project, idx){

    var scene = new ScrollMagic.Scene({
      'triggerElement': project.querySelector('img'),
      'triggerHook': 0.6,
      'reverse': false
    });

    scene
      .addTo(controller)
      .addIndicators({
        'name': '페이드',
        'indent': 10,
        'colorTigger': '#fe4940',
        'colorStart': '#34c0ff',
        'colorEnd': '#7eff28'
      })
      .setClassToggle(project, 'fade-in');

  });
  var pin1 = new ScrollMagic.Scene({
  'triggerElement': '#intro',
  'triggerHook': 0,
  'location': '35%'
});

pin1
  .setPin('#intro')
  // .setPin('#intro', {'pushFollowers': false})
  .addTo(controller);

// 핀 추가
var pin2 = new ScrollMagic.Scene({
  'triggerElement': '#project01',
  'triggerHook': 0.4
});

pin2
  .setPin('#intro', {'pushFollowers': false})
  .addTo(controller);

  var parallaxTl = new TimelineMax();

parallaxTl
.from('.content-wrapper', 0.4, { autoAlpha: 0, easse: Power0.easeNone }, 0.4)
.from('.bcg', 2, { y: '-50%', easse: Power0.easeNone }, 0);

var slideParallaxScene = new ScrollMagic.Scene({
triggerElement: '.bcg-parallax',
triggerHook: 1,
duration: '100%'
})
.setTween(parallaxTl)
.addTo(controller);
  </script>
</body>

</html>
